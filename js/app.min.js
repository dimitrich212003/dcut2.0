(()=>{"use strict";const e=document.querySelectorAll(".popup-link"),t=document.querySelector("body"),n=document.querySelectorAll(".lock-padding");let c=!0;if(e.length>0)for(let t=0;t<e.length;t++){const n=e[t];n.addEventListener("click",(function(e){const t=n.getAttribute("href").replace("#","");i(document.getElementById(t)),e.preventDefault()}))}const o=document.querySelectorAll(".close-popup");if(o.length>0)for(let e=0;e<o.length;e++){const t=o[e];t.addEventListener("click",(function(e){s(t.closest(".popup")),e.preventDefault()}))}function i(e){if(e&&c){const o=document.querySelector(".popup.open");o?s(o,!1):function(){const e=$(window).innerWidth()-document.querySelector(".wrapper").offsetWidth+"px";if(n.length>0)for(let t=0;t<n.length;t++){n[t].style.paddingRight=e}t.style.paddingRight=e,t.classList.add("lock"),c=!1,setTimeout((function(){c=!0}),0)}(),e.classList.add("open"),e.addEventListener("click",(function(e){e.target.closest(".popup__content")||s(e.target.closest(".popup"))}))}}function s(e,o=!0){c&&(e.classList.remove("open"),o&&(setTimeout((function(){if(n.length>0)for(let e=0;e<n.length;e++)n[e].style.paddingRight="0px";t.style.paddingRight="0px",t.classList.remove("lock")}),0),c=!1,setTimeout((function(){c=!0}),0)))}console.log($(window).innerWidth()),console.log(document.querySelector(".wrapper").offsetWidth);let l=!1;setTimeout((()=>{if(l){let e=new Event("windowScroll");window.addEventListener("scroll",(function(t){document.dispatchEvent(e)}))}}),0);const r=document.querySelector(".range__input"),a=document.querySelector(".range__progress"),d=document.querySelector(".range__input-info"),u=document.querySelector(".range__input-p"),m=document.querySelector(".range__progress-p"),y=document.querySelector(".range__input-info-p"),v=document.querySelectorAll(".step-s"),p=document.querySelectorAll(".step-n__number"),h=(document.querySelectorAll(".step-n__number_circle"),document.querySelectorAll(".step-n__gap"),document.querySelector(".step-s__form")),f=document.querySelectorAll(".step-s__prev_btn"),b=document.querySelectorAll(".step-s__next_btn"),_=document.querySelectorAll(".module-s__input"),g=document.querySelector(".module-s__body"),L=document.querySelector(".module-s__body-short"),k=document.querySelectorAll(".bacc"),A=document.querySelectorAll(".item-conversion"),E=document.querySelector(".last-numberr"),S=document.querySelector(".item-conv__button-reset");if(k.forEach((e=>{e.addEventListener("click",(function(e){A.forEach((e=>{e.classList.toggle("dis-n")}))}))})),_&&_.forEach((e=>{e.oninput=function(){"yes"==this.value?(L.style.display="none",g.style.display="block"):(L.style.display="block",g.style.display="none")}})),r&&(r.oninput=function(){let e=this.value-1;e=e/4*100,a.style.width=e+"%",d.value=this.value},d.oninput=function(){a.style.width=25*this.value-25+"%",r.value=this.value},$(".only-numbers").keypress((function(e){if((e=e||window.event).charCode&&0!=e.charCode&&(e.charCode<48||e.charCode>57))return!1})),$(".only-numberss").keypress((function(e){if((e=e||window.event).charCode&&0!=e.charCode&&(e.charCode<49||e.charCode>53))return!1}))),u&&(u.oninput=function(){m.style.width=this.value+"%",y.value=this.value+"%"},y.oninput=function(e){m.style.width=1*this.value+1+"%",u.value=this.value},$(".only-numbers").keypress((function(e){if((e=e||window.event).charCode&&0!=e.charCode&&(e.charCode<48||e.charCode>57))return!1}))),document.querySelector(".step-s")&&function(){h&&h.addEventListener("submit",(e=>e.preventDefault()));var e=0;if(f.length>0||b.length>0){for(let n=0;n<f.length;n++)f[n].addEventListener("click",(()=>{e--,t()}));for(let n=0;n<b.length;n++)b[n].addEventListener("click",(()=>{e++,t()}))}for(let n=0;n<v.length;n++)p[n].addEventListener("click",(()=>{e=n,t()}));function t(){v.forEach((e=>{e.classList.contains("active")&&e.classList.remove("active")})),p.forEach((e=>{e.classList.contains("active-number")&&e.classList.remove("active-number")})),v[e].classList.add("active"),p[e].classList.add("active-number"),(f.length>0||b.length>0)&&(0===e?f.forEach((e=>{e.style.opacity="0",e.style.pointerEvents="none"})):f.forEach((e=>{e.style.opacity="1",e.style.pointerEvents="all"})),E&&(E.classList.contains("active-number")?(document.body.classList.add("main-purpure"),S.classList.add("res-white")):(document.body.classList.remove("main-purpure"),S.classList.remove("res-white"))),e===v.length-1?b.forEach((e=>{e.innerHTML="Готово"})):b.forEach((e=>{e.innerHTML="Далее"})),"Готово"==b[e].innerHTML&&b[e].addEventListener("click",(function(){h.submit()})))}t()}(),$(document).ready((function(){$("body").on("click",".number-minus, .number-plus",(function(){var e=$(this).closest(".number"),t=e.find(".number-text"),n=e.data("step"),c=parseFloat(t.val());return $(this).hasClass("number-minus")?c-=n:c+=n,t.val(c),t.change(),!1})),$("body").on("change",".number-text",(function(){var e=$(this),t=e.closest(".number"),n=t.data("step"),c=parseInt(t.data("min")),o=parseInt(t.data("max")),i=parseFloat(e.val());isNaN(i)?i=n:c&&i<c?i=c:o&&i>o&&(i=o),e.val(i)}))})),$(document).ready((function(){$("body").on("click",".order__grid-btn",(function(){$(this).toggleClass("add-btn-active"),$(this).hasClass("add-btn-active")?$(this).html("Добавлено"):$(this).html("Добавить")}))})),$(document).ready((function(){$("body").on("click",".order__recommended-btn",(function(){$(this).toggleClass("add-btn-active"),$(this).hasClass("add-btn-active")?($(this).html("Убрать всё"),$(".order__grid-btn").addClass("add-btn-active"),$(".order__grid-btn").html("Добавлено")):($(this).html("Добавить всё"),$(".order__grid-btn").html("Добавить"),$(".order__grid-btn").removeClass("add-btn-active"))}))})),$(document).ready((function(){$(".product__spoiler-title").click((function(e){$(".product__filter-content").hasClass("one")&&($(".product__spoiler-title").not($(this)).removeClass("activeFilter"),$(".product__spoiler-select").not($(this).next()).slideUp(300)),$(this).toggleClass("activeFilter").next().slideToggle(300)}))})),$(".el-map").html()){const e=document.getElementById("city-block1"),t=document.getElementById("city-block2"),n=document.getElementById("city-block3");document.getElementById("city1").addEventListener("click",(function(){e.classList.contains("city-block-active")?e.classList.remove("city-block-active"):(e.classList.add("city-block-active"),t.classList.remove("city-block-active"),n.classList.remove("city-block-active"))})),document.getElementById("city2").addEventListener("click",(function(){t.classList.contains("city-block-active")?t.classList.remove("city-block-active"):(t.classList.add("city-block-active"),e.classList.remove("city-block-active"),n.classList.remove("city-block-active"))})),document.getElementById("city3").addEventListener("click",(function(){n.classList.contains("city-block-active")?n.classList.remove("city-block-active"):(n.classList.add("city-block-active"),t.classList.remove("city-block-active"),e.classList.remove("city-block-active"))}))}else;$(window).on("load",(function(){$("body").removeClass("preload")}));const q=document.querySelector(".__select"),w=q.querySelector(".__select__title"),C=q.querySelectorAll(".__select__label");w.addEventListener("click",(()=>{"active"===q.getAttribute("data-state")?q.setAttribute("data-state",""):q.setAttribute("data-state","active")}));for(let e=0;e<C.length;e++)C[e].addEventListener("click",(e=>{w.textContent=e.target.textContent,q.setAttribute("data-state","")}));const I=document.querySelector(".__select-1"),x=I.querySelector(".__select__title-1"),B=I.querySelectorAll(".__select__label-1");x.addEventListener("click",(()=>{"active1"===I.getAttribute("data-state")?I.setAttribute("data-state",""):I.setAttribute("data-state","active1")}));for(let e=0;e<B.length;e++)B[e].addEventListener("click",(e=>{x.textContent=e.target.textContent,I.setAttribute("data-state","")}));window.FLS=!0,function(e){let t=new Image;t.onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}((function(e){let t=!0===e?"webp":"no-webp";document.documentElement.classList.add(t)}))})();